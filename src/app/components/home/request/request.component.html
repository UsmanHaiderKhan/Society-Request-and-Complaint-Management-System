<app-header></app-header>
<div class="container" id="request">
  <div class="row justify-content-center mt-5">
    <div class="col-md-10">
      <!-- Default form subscription -->
      <div class="text-center border border-light p-5 shadow-sm">
        <p class="h4 mb-4">Get Register Your Request</p>
        <p>
          As Soon as Poosible we try to complete your request.ThankYou!
        </p>
        <form
          class="normal-form"
          (submit)="submitRequest(operationService.form.value)"
          [formGroup]="operationService.form"
        >
          <input type="hidden" formControlName="$key" />
          <div class="row">
            <div class="col-md-6">
              <!--Full Name -->
              <mat-form-field class="example-form-field">
                <mat-label>Full Name</mat-label>
                <input
                  matInput
                  type="text"
                  placeholder="Full Name"
                  formControlName="fullname"
                />
                <mat-error
                  *ngIf="
                    operationService.form.controls['fullname'].errors?.required
                  "
                  >Name Field is Required</mat-error
                >
              </mat-form-field>
            </div>
            <div class="col-md-6">
              <!-- Email -->
              <mat-form-field class="example-form-field">
                <mat-label>Email</mat-label>
                <input
                  matInput
                  type="email"
                  placeholder="Email"
                  formControlName="email"
                />
                <mat-error
                  *ngIf="
                    operationService.form.controls['email'].errors?.required
                  "
                  >Email Field is Required</mat-error
                >
              </mat-form-field>
            </div>
          </div>
          <!-- Address -->
          <mat-form-field class="example-form-field">
            <mat-label>Address</mat-label>
            <input
              matInput
              type="address"
              placeholder="Address"
              formControlName="address"
            />
            <mat-error
              *ngIf="operationService.form.controls['address'].errors?.required"
              >Address Field is Required</mat-error
            >
          </mat-form-field>

          <div class="row">
            <div class="col-md-6">
              <!-- PhoneNumber -->
              <mat-form-field class="example-form-field">
                <mat-label>Phone Number</mat-label>
                <input
                  matInput
                  type="text"
                  placeholder="Phone Number"
                  formControlName="mobile"
                />
                <mat-error
                  *ngIf="
                    operationService.form.controls['mobile'].errors?.required
                  "
                  >Number Field is Required</mat-error
                >
              </mat-form-field>
            </div>
            <div class="col-md-6">
              <!-- Request Type -->
              <mat-form-field class="example-form-field">
                <mat-label>Request Type</mat-label>
                <mat-select formControlName="requestType" name="requestType">
                  <mat-option
                    *ngFor="let os of optionsSelect"
                    value="{{ os.value }}"
                    >{{ os.label }}</mat-option
                  >
                </mat-select></mat-form-field
              >
            </div>
          </div>

          <!-- File-Upload -->
          <div class="row justify-content-center">
            <div class="form-group">
              <div class="img-border mx-auto shadow">
                <img
                  [src]="imgSrc"
                  alt=""
                  class="img-size"
                  (click)="fileUploader.click()"
                />
              </div>
            </div>
          </div>

          <div class="form-group">
            <input
              type="file"
              accept="image/*"
              formControlName="imageUrl"
              class="form-control"
              #fileUploader
              (change)="showImagePreview($event)"
            />
          </div>
          <!-- Detail Request -->
          <mat-form-field class="example-form-field">
            <mat-label>Request Details</mat-label>
            <textarea
              matInput
              rows="8"
              type="text"
              placeholder="Enter Your Request"
              formControlName="requestDetail"
            ></textarea>
            <mat-error
              *ngIf="
                operationService.form.controls['requestDetail'].errors?.required
              "
              >Request Details Field is Required</mat-error
            >
          </mat-form-field>
          <br /><br />
          <!-- Sign in button -->
          <button
            [disabled]="operationService.form.invalid"
            mat-raised-button
            color="success"
            block="true"
            class="mt-4"
          >
            Submit Request
          </button>
        </form>
      </div>
      <!-- Default form subscription -->
    </div>
  </div>
</div>
